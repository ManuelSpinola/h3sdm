% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/h3sdm_fit_model.R
\name{h3sdm_fit_model}
\alias{h3sdm_fit_model}
\title{Ajusta un workflow SDM a los datos usando resampling y prepara para stacking.}
\usage{
h3sdm_fit_model(
  workflow,
  data_split,
  presence_data = NULL,
  truth_col = "presence",
  pred_col = ".pred_1",
  for_stacking = FALSE,
  ...
)
}
\arguments{
\item{workflow}{Un objeto 'workflow' de tidymodels (ej., el GAM o Random Forest).}

\item{data_split}{Un objeto 'rsplit' o 'rset' (ej. resultado de vfold_cv o spatial_block_cv).}

\item{presence_data}{(Opcional) Datos originales de presencia (usados para métricas extendidas).}

\item{truth_col}{Columna de la variable respuesta (por defecto, "presence").}

\item{pred_col}{Columna de predicción de la clase de interés (por defecto, ".pred_1").}

\item{for_stacking}{Lógico. Si es \code{TRUE}, usa \code{control_stack_resamples()}
para guardar toda la información del workflow necesaria para el paquete 'stacks'.
Si es \code{FALSE}, usa el control estándar con \code{save_pred = TRUE}.}
}
\value{
Una lista con tres elementos:
\itemize{
\item \code{cv_model}: El resultado de \code{fit_resamples()}.
\item \code{final_model}: El modelo ajustado a todo el conjunto de entrenamiento (primer split).
\item \code{metrics}: Métricas de evaluación extendidas (si \code{presence_data} es provisto).
}
}
\description{
Ajusta un workflow de Modelos de Distribución de Especies (SDM) a los datos de
resampling (cross-validation). Esta función es el paso principal de entrenamiento
y opcionalmente configura los resultados para ser usados con el paquete 'stacks'.
}
